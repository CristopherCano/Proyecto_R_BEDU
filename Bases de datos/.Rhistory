getwd()
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
data <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
library(TSA)
data(oilfilters); plot(oilfilters, type = "o", ylab = "Ventas", xlab = "Tiempo", main = "Ventas Mesuales ")
plot(oilfilters, type = "l", ylab = "Ventas", xlab = "Tiempo",
main = "Ventas Mensuales de Filtro de Aceite",
sub = "Símbolos Especiales")
points(y = oilfilters, x = time(oilfilters),
pch = as.vector(season(oilfilters)))
data(AirPassengers)
AP <- AirPassengers
AP
class(AP)
start(AP); end(AP); frequency(AP)
summary(AP)
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
data <- mutate(data, pickup_date = format(pickup_date, "%Y-%m"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
head(tsUber)
tail(tsUber)
dim(tsUber)
tsUber <- ts(tsUber$cuenta, st = c(2016,6), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
data <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,6), end = c(2017,7),fr=365)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
data <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,6), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,6), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
data <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
head(data)
tail(data)
tsData <- data %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData
head(tsData)
tail(tsData)
tsData <- ts(tsData$cuenta, st = c(2016,6,24), fr=365)
plot(tsData)
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,6), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,6,24), fr=365)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,6), fr=365)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
tail(tsData)
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
tail(tsData)
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tail(tsData)
dim(tsData)
view(tsData)
View(tsData)
tsData <- ts(tsData$cuenta, st = c(2016,6), end = c(2017,7), fr=365)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
?ts()
View(ubers)
View(ubers)
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,175), fr=365)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,225), fr=365)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
tsData <- ts(tsData$cuenta, st = c(2016,250), fr=365)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,250), fr=365)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
?ts()
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,6), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,6), fr=12)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,8), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,8), fr=12)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
### por dia de la semana
week <- mutate(data, pickup_day = format(pickup_date, "%A"))
week <- week %>% group_by(pickup_day) %>% summarise(cuenta = sum(unos))
View(week)
View(week)
### por dia de la semana
week <- mutate(data, pickup_day = format(pickup_date, "%A"))
week <- week %>% group_by(pickup_day) %>% summarise(cuenta = mean(unos))
View(week)
View(week)
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,8), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,8), fr=12)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
### por dia de la semana
week <- mutate(data, day = format(pickup_date, "%A"), date = format(pickup_date, "%Y-%m-%d"))
week <- week %>% group_by(date,day) %>% summarise(cuenta = sum(unos))
View(week)
View(week)
week <- week %>% group_by(day) %>% summarise (viajes = mean(cuenta))
View(week)
View(week)
week(c(1,3,4,5,2,7,6))
week[1,2]
week[1]
week[1,1]
week[,1]
week[,2]
week[1,2]
week[,]
week[1,]
week[c(1, 3, 4, 5, 2, 7, 6),]
week <- week[c(1, 3, 4, 5, 2, 7, 6),]
View(week)
View(week)
plot(x = week$day)
plot(x = week$viajes)
week <- table(week$viajes, week$viajes)
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,8), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,8), fr=12)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
### por dia de la semana
week <- mutate(data, day = format(pickup_date, "%A"), date = format(pickup_date, "%Y-%m-%d"))
week <- week %>% group_by(date,day) %>% summarise(cuenta = sum(unos))
week <- week %>% group_by(day) %>% summarise (viajes = mean(cuenta))
### por dia de la semana
week <- mutate(data, day = format(pickup_date, "%A"), date = format(pickup_date, "%Y-%m-%d"))
week <- week %>% group_by(date,day) %>% summarise(cuenta = sum(unos))
View(week)
View(week)
weekTable <- table(week$cuenta, week$day)
weekTable
weekTable <- table(week$day,week$cuenta)
weekTable
?table
# Proyecto de R BEDU --- Equipo 12
# Parte de series de tiempo del proyecto
# Objetivos
# 1.- Observar si la tendencia de las solicitudes de viajes a ubers y a taxis
#     por dia cambia en el transcurso del año
# 2.- Graficar el promedio de segundos de espera por viaje (se toma como medida
#     de trafico) por horas para ver si hay una estacionalidad
# 3.- Identificar el día de la semana donde haya más peticiónes
# Desarrollo
# Librerias necesarias
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
#data <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,8), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
### de todas
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,8), fr=12)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
### por dia de la semana
week <- mutate(data, day = format(pickup_date, "%A"), date = format(pickup_date, "%Y-%m-%d"))
week <- week %>% group_by(date,day) %>% summarise(cuenta = sum(unos))
weekTable <- table(week$day,week$cuenta)
#week <- week %>% group_by(day) %>% summarise (viajes = mean(cuenta))
#week <- week[c(1, 3, 4, 5, 2, 7, 6),]
week <- week %>% group_by(day) %>% summarise (viajes = mean(cuenta))
week <- week[c(1, 3, 4, 5, 2, 7, 6),]
table(week)
wweek
week
plot(week)
plot(x = week$day)
plot(x = week$day, y = week$viajes)
week
library(dplyr)
library(xts)
library(ggplot2)
# Definición del espacio de trabajo
setwd("Bases de datos")
data <- read.csv("cdmx_transporte_clean.csv")
data <- mutate(data, pickup_date = as.Date(pickup_date, "%d/%m/%Y"))
#data <- mutate(data, pickup_date = format(pickup_date, "%Y-%m-%d"))
names(data)
n <- as.integer(count(data))
unos <- rep(1,n)
data <- select(data,Transporte,pickup_date,pickup_time,wait_sec)
data <- cbind(data,unos)
names(data)
uNames = c("UberX","UberBlack","UberXL","UberSUV")
ubers <- data[which(data$Transporte %in% uNames),]
ubers <- mutate(ubers, pickup_date = format(pickup_date, "%Y-%m"))
tsUber <- ubers %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsUber <- ts(tsUber$cuenta, st = c(2016,8), end = c(2017,7),fr=12)
plot(tsUber, ylab = "Viajes", xlab = "Tiempo")
### de todas
tsData <- mutate(data, pickup_date = format(pickup_date, "%Y-%m"))
tsData <- tsData %>% group_by(pickup_date) %>% summarise(cuenta = sum(unos))
tsData <- ts(tsData$cuenta, st = c(2016,8), fr=12)
plot(tsData, ylab = "Viajes", xlab = "Tiempo")
### por dia de la semana
### por dia de la semana
week <- mutate(data, day = format(pickup_date, "%A"), date = format(pickup_date, "%Y-%m-%d"))
View(week)
View(week)
table(week$day)
table(week$day, mean())
?table
plot(week$day)
plot(table(week$day)
l
plot(table(week$day))
table(week$day)
week <- week %>% group_by(date,day) %>% summarise(cuenta = sum(unos))
week <- week %>% group_by(day) %>% summarise (viajes = mean(cuenta))
week <- week[c(1, 3, 4, 5, 2, 7, 6),]
